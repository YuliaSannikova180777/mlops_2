schema: '2.0'
stages:
  get_faetures:
    cmd: python3 scripts/data_scripts/get_features.py data/raw/train.csv
    deps:
    - path: data/raw/train.csv
      hash: md5
      md5: fe07a524dd7e68ff4a8d53b2373c3e18
      size: 3905076
    - path: scripts/data_scripts/get_features.py
      hash: md5
      md5: bbfa289d7ecb84132a666b4af1344c0c
      size: 890
    outs:
    - path: data/stage1
      hash: md5
      md5: 32210ed45fcd5b774e6d058722d63a41.dir
      size: 662867
      nfiles: 1
  fill_na:
    cmd: python3 scripts/data_scripts/fill_na.py data/stage1/train.csv
    deps:
    - path: data/stage1/train.csv
      hash: md5
      md5: 0f444e8fbf661f95b8a7227e4f34c3c7
      size: 662867
    - path: scripts/data_scripts/fill_na.py
      hash: md5
      md5: 6ce362f6cfc71f9d55c9ff36f0b0c5fa
      size: 1349
    outs:
    - path: data/stage2
      hash: md5
      md5: bedc49194f8ee7b6d80ffb6554b4e771.dir
      size: 565184
      nfiles: 1
  text_to_numeric:
    cmd: python3 scripts/data_scripts/change_text_to_numeric.py data/stage2/train.csv
    deps:
    - path: data/stage2/train.csv
      hash: md5
      md5: f633fb9fc35b680db1e0510beb604aa9
      size: 565184
    - path: scripts/data_scripts/change_text_to_numeric.py
      hash: md5
      md5: 49a1d774db8709ae6d37a45740c575e6
      size: 1158
    outs:
    - path: data/stage3
      hash: md5
      md5: c92eb3220e55c5f14a086a36ff7d11fa.dir
      size: 417390
      nfiles: 1
  split:
    cmd: python3 scripts/data_scripts/train_test_split.py data/stage3/train.csv
    deps:
    - path: data/stage3/train.csv
      hash: md5
      md5: 8701ab3fc0a1381bc84fe418e5414b11
      size: 417390
    - path: scripts/data_scripts/train_test_split.py
      hash: md5
      md5: 46f926ceed61e51d281d09978b837d8f
      size: 950
    params:
      params.yaml:
        split.split_ratio: 0.3
  train:
    cmd: python3 scripts/model_scripts/dt.py data/stage4/train.csv model.pkl
    deps:
    - path: data/stage4/train.csv
      hash: md5
      md5: ec5e6e7a196a91976c703fca3acf2806
      size: 292069
    - path: scripts/model_scripts/dt.py
      hash: md5
      md5: ccf42454413e2cc1c9d3d3bfa8f8b109
      size: 725
    params:
      params.yaml:
        train.max_depth: 4
        train.seed: 42
    outs:
    - path: models/model.pkl
      hash: md5
      md5: 2a1974b9306d55e33db079900bcf11dc
      size: 20570
  evaluate:
    cmd: python3 scripts/model_scripts/evaluate.py data/stage4/test.csv models/model.pkl
    deps:
    - path: data/stage4/test.csv
      hash: md5
      md5: 864a7dfdde6b87798ad91e7190d4efca
      size: 125305
    - path: models/model.pkl
      hash: md5
      md5: 2a1974b9306d55e33db079900bcf11dc
      size: 20570
    - path: scripts/model_scripts/evaluate.py
      hash: md5
      md5: 1920a6fd118f71d73fbe8d99539fef96
      size: 566
    outs:
    - path: evaluate/score.json
      hash: md5
      md5: 225e89e9ca978b25e32544c8e699d12c
      size: 29
